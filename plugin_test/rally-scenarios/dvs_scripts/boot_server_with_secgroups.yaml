---
NeutronSecGroupPlugin.boot_server_with_secgroups:
{% set az = 'vcenter' %} 
{% set times = 100 %} 
{% for hypervisor in range(1,4,1) %}
  {% for concurrency in (4,8,12,16) %}
  -
    args:
      flavor:
          name: "m1.nano"
      image:
          name: "TestVM-VMDK"
      availability_zone: "{{ az }}:vcenter-cluster{{ hypervisor }}"
      security_group_count: 2
      rules_per_security_group: 5 
      auto_assign_nic: true
    runner:
      type: "constant"
      times: {{ concurrency * 10 }}
      concurrency: {{ concurrency }}  
    context:
      users:
        tenants: 4
        users_per_tenant: 1 
      quotas:
        nova:
          instances: -1
          cores: -1
          ram: -1
          floating_ips: -1
          security_groups: -1
          security_group_rules: -1
        neutron:
          network: -1
          subnet: -1
          router: -1
          port: -1
          security_group: -1
          security_group_rule: -1
      network:
        start_cidr: "10.0.0.0/16"
        networks_per_tenant: 25 
        subnets_per_network: 2 
    sla:
      failure_rate:
        max: 1
  {% endfor %}
{% endfor %}

{% for hypervisor in range(1,4,1) %}
  {% for concurrency in (4,8,12,16) %}
  -
    args:
      flavor:
          name: "m1.nano"
      image:
          name: "TestVM-VMDK"
      availability_zone: "{{ az }}:vcenter-cluster{{ hypervisor }}"
      security_group_count: 2
      rules_per_security_group: 5 
      auto_assign_nic: true
    runner:
      type: "constant"
      times: {{ concurrency * 10 }}
      concurrency: {{ concurrency }}  
    context:
      users:
        tenants: 4
        users_per_tenant: 1 
      quotas:
        nova:
          instances: -1
          cores: -1
          ram: -1
          floating_ips: -1
          security_groups: -1
          security_group_rules: -1
        neutron:
          network: -1
          subnet: -1
          router: -1
          port: -1
          security_group: -1
          security_group_rule: -1
      network:
        start_cidr: "10.0.0.0/16"
        networks_per_tenant: 25 
        subnets_per_network: 2 
    sla:
      failure_rate:
        max: 1
  {% endfor %}
{% endfor %}
